

# 选修计组总结

 

## 第一章 计算机系统概论



### 2.1  1.1 计算机的发展

**摘要**：计算机不同于一般的电子设备，它是由硬件、软件组成的复杂的自动化设备，是能够自动、高速、准确地对信息进行加工、处理、存储的电子设备。

**计算机的分类与发展方向**

电子计算机从总体上来说分为模拟计算机和数字计算机两大类。

**计算机硬件的发展**

计算机要自动化智能工作必须依赖对应复杂的硬件装置。

**计算机软件的发展**

计算机与一般的电子设备的最大区别：不仅有硬件，同时还有软件。

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_72afb911d2a4a2c0d3f8d1787166abbe?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"></iframe>





#### 2.1.1  1.1.1 计算机的分类与发展方向

**1. 电子计算机的分类** 

 电子计算机从总体上来说分为**模拟计算机**和**数字计算机**两大类。  

 **电子模拟计算机** “模拟”就是相似的意思。模拟计算机的特点是数值由连续量来表示，运算过程也是连续的。 

 **电子数字计算机** 它是在算盘的基础上发展起来的，是用数目字来表示数量的大小。数字计算机的主要特点是按位运算，并且不连续地跳动计算。

**2. 根据用途对计算机的分类**

 数字计算机根据计算机的效率、速度、价格、运行的经济性和适应性来划分，可以划分为两类：  

 **专用计算机**：专用机是最有效、最经济和最快速的计算机，但是它的适应性很差。    

 **通用计算机：**通用计算机适应性很大，但是牺牲了效率、速度和经济性。

**3. 通用计算机的分类**

 通用计算机根据体积、简易性、功率损耗、性能指标、数据存储容量、指令系统规模和机器价格等可以分为5类： 

- **巨型机（超级计算机）**
- **大型机**
- **服务器**
- **微型机（pc机）**
- **嵌入式计算机**

**4.计算机的发展方向：**

- **巨型化:**  速度快、容量大、功能强的巨型计算机 
- **微型化：** 体积越来越小，重量越来越轻，平板电脑，移动终端，纳米计算机
- **网络化：** 点－线－面 万物互连，所有的结点都有网络通信模块
- **智能化：** 利用计算机来模拟人的某些思维过程和智能行为，如自然语言理解、模式识别、机器人、专家系统和人工智能等。

**1.1 认识计算机视频**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278830&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 2.1.2 1.1.2 计算机产生与发展

1.**计算机的产生和发展**

1946年2月，世界上第一台电子数字计算机ENIAC在美国宾夕法尼亚大学诞生。

**在研制ENIAC的同时，以美籍匈牙利数学家冯·诺依曼为首的研制小组提出了“存储程序、程序控制”的计算机设计思想，体现该设计思想的计算机EDVAC在1951年问世。**

**第一代：1946年～1957年 电子管计算机**

主要特点：计算机所使用的逻辑元件为电子管，存储器采用延迟线或磁鼓。软件主要使用机器语言，后期使用汇编语言。应用领域：科学计算。 

**第二代：1958年～1964年  晶体管计算机**

主要特点：逻辑元件为晶体管，采用磁芯作主存储器，采用磁带或磁盘作为辅助存储器，出现Fortran, Cobol等高级语言，并出现了机器内部的管理程序。

应用领域：科学计算、数据处理。

**第三代：1965年～1974年  中小规模集成电路计算机**

主要特点：硬件上，采用中、小规模集成电路取代晶体管，用半导体存储器淘汰了磁芯存储器。软件上，把管理程序发展成为现在的操作系统，采用微程序控制技术，高级语言更加流行，如Basic, Pascal，C等。

应用领域：科学计算、数据处理、实时控制。

**第四代：1975年～1986年  LSI、VLSI计算机 大规模集成电路计算机**

主要特点：大规模集成电路及超大规模集成电路（LSI, VLSI）取代了中小规模集成电路。操作系统更加完善，在语音、图像处理、多媒体技术、网络及人工智能等方面取得了很大发展。

应用领域：各个方面。 随着LSI, VLSI的发展，1976年，21岁的乔布斯在硅谷制造出了著名的Apple机，微型计算机（微机）诞生了。21世纪80年代微机兴起，1981年IBM公司选择了Intel公司的微处理器和Microsoft公司的软件，推出了第一台个人计算机（PC机），揭开了微机蓬勃发展的序幕。

**第五代：1986年~现在  巨大规模集成电路计算机**

 运算速度提高到每秒10亿次。单片机开始出现。

   从1946年计算机诞生以来，大约每五年运算速度提高10倍，可靠性提高10倍，成本降低10倍，体积缩小10倍。**“摩尔定律”**

 70年来计算机的发展过程，是在**冯·诺依曼型计算机结构**的基础上，紧紧围绕如何**提高速度**、**扩大存储容量**、**降低成本**、**提高系统可靠性**和**使用的方便性**为目的、不断采用新器件和研制新软件的过程。

 比较有代表性的就是**半导体存储器技术**的发展和**微处理器**的发展。



**2. 计算机的发展方向：**

- **巨型化:**  速度快、容量大、功能强的巨型计算机 
- **微型化：** 体积越来越小，重量越来越轻，平板电脑，移动终端，纳米计算机
- **网络化：**点－线－面 万物互连，所有的结点都有网络通信模块
- **智能化：**利用计算机来模拟人的某些思维过程和智能行为，如自然语言理解、模式识别、机器人、专家系统和人工智能等。

**3. 计算机的应用**

- 科学计算
- 数据处理
- 过程检测与控制
- 计算机辅助系统
- 信息通信 
- 电子商务
- 人工智能

**1.2 计算机的产生和发展视频**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278836&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 2.2 1.2  计算机系统的组成

**计算机的特点：**

**1.  运算速度快**  高速的电子元器件 先进的计算技巧

**2.  计算精度高**  字长加长 浮点运算

**3.  记忆和逻辑判断能力** 内外存 布尔代数

**4.  通用性强**

**5.  自动连续运算**  存储程序原理

**思考：**

计算机如此神奇，那它到底是如何工作的？又是怎么构成的？

**计算机系统构成总图：**

**![img](https://p.ananas.chaoxing.com/star3/origin/76d58d272c38f22b11bb4311549c9bf7.png)**



#### 2.2.1 1.2.1 冯·诺依曼计算机设计思想

在研制ENIAC的同时，以美籍匈牙利数学家冯·诺依曼为首的研制小组提出了“存储程序、程序控制”的计算机设计思想，体现该设计思想的计算机EDVAC在1951年问世。根据该设计思想设计出来的计算机称为**冯诺依曼型计算机**。

直到现在绝大多数计算机仍遵循冯诺依曼提出的“存储程序并按地址执行”的核心思想。因此，冯诺依曼被尊称为“现代计算机之父”。

**冯·诺依曼的存储程序控制概念概括起来为：**

1. 计算机硬件应由运算器、控制器、存储器、输入设备和输出设备五大基本部件组成。
2. 计算机内部采用二进制来表示指令和数据。
3. 将编好的程序和原始数据事先存入存储器中，然后启动计算机工作。这一点最为重要，即**存储程序控制**的思想。

 **这些概念奠定了现代电子数字计算机的理论基础。总体来说，计算机系统分别由硬件系统和软件系统两部分组成。**

**说明：**

**1.信息的数字化表示**

- 数字代码可以表示信息（数值、字符、音频、图形图像和指令等）

- 数字信号可以表示数字代码（电平、脉冲）

- 电平的高低 ：高表示1，低表示0

- 脉冲的有无 ：有表示1，无表示0

  

  ——信息可以数字化表示，可以用1、0表示

  **2.存储程序的工作方式**

- 根据求解问题事先编制程序
- 将程序存入计算机中
- 启动计算机自动执行程序

  ——体现了用计算机求解问题的过程 

**计算机系统组成视频**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278831&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 2.2.2 1.2.2 计算机硬件的基本组成

计算机的硬件，就是构成计算机物理存在的各个设备及部件，是由元器件构成的有形物体。计算机硬件系统由运算器、控制器、存储器、输入设备和输出设备五大基本部件组成。各个部分之间的关系如下图所示。



![img](https://p.ananas.chaoxing.com/star3/origin/fe210aab06ca201d8194df079cf69384.png)

**1. 运算器**

运算器的功能是执行算术运算、逻辑运算以及数据转换。

运算器采用二进制数进行运算。运算规则简单，容易用电子线路来实现、可靠性高。

**2. 控制器**

控制器的作用是协调计算机各部件自动地进行工作。具体讲，从内存中取出解题步骤(指令)，加以分析后执行某种操作。运算器和控制器合在一起称作CPU,中央处理器。

**3. 存储器**

存储器的功能是用来存放程序和数据。存储器部分是由多种存储器件组成的分层次的多级存储系统。用户可见的主要由主存和辅存两个层次。

**4. 输入设备**

输入设备的任务是把编好的程序和原始数据送到计算机中去，并把它们转换成计算机能识别、能接受的信息形式 。

输入设备的种类非常多，比如鼠标、键盘、扫描仪等是输入设备。

**5. 输出设备**

输出设备的任务是把计算机的处理结果以人或者其它设备能接受的形式送出计算机。输出设备的种类也非常多，比如显示器、打印机等是输出设备。

各个设备之间有各种各样的信号线传送计算机运行期间的各种数据、指令、地址等信号。在计算机中这样的信号线统称为**总线**。

**总线**是一组能够为多个功能部件分时共享的信息传输的公共通路，是构成计算机系统的互连机构。总线的特点：**分时、共享**

**单总线系统如图所示。**

**![img](https://p.ananas.chaoxing.com/star3/origin/0be5d1e24385fa6caec95e4d7d96200d.png)**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_3425b96791731a7c46b656713bdebb9f?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D">  </iframe>






#### 2.2.3 1.2.3 计算机软件的分类与发展

凡是用于一台计算机的**各种程序**，统称为计算机的**程序**或**软件系统**。

**1.软件的组成与分类**

软件分为**系统软件**和**应用软件**两大类。对应的程序也被分为**系统程序**和**应用程序**两种。

**系统程序**用来简化程序设计，简化使用方法，提高计算机的使用效率，发挥和扩大计算机的功能和用途。包括四大类：

①　服务性程序 如诊断程序，排错程序等

②　语言类程序 如汇编程序、编译程序、解释程序等

③　操作系统

④　数据库管理系统

**应用程序**是用户利用计算机来解决某些问题而编制的程序。

①　工程设计程序

②　数据处理程序

③　自动控制程序

④　企业管理程序

⑤　情报检索程序

⑥　科学计算程序等。

**2.软件的发展与演变**

语言类程序的变迁和发展

 **语言               程序**

  **机器语言             目的程序（目标程序）**

  **汇编语言（符号语言）        汇编语言源程序**

  **高级语言（算法语言）       高级语言源程序**



### 2.3 1.2 计算机系统的层次结构

计算机系统存在着层次结构，从功能上看，现代计算机系统可分为五个层次级别，每一层都能进行程序设计，如图1-6所示。

![计算机系统层次分级结构.png](https://p.ananas.chaoxing.com/star3/origin/a380bc5e18cb29df076a5e12f2f578da.png)

​            图 1-6 计算机系统的层次结构图

**1. 微程序设计级**

这一级是由硬件直接实现的，是计算机系统最底层的硬件系统。由机器硬件直接执行微指令。只有采用微程序设计的计算机系统，才有这一级。如果某一个应用程序直接用微指令来编写，那么可在这一级上运行应用程序。

**2．一般机器级**

也称为机器语言级，它由微程序解释机器指令系统。这一级也是硬件级，是软件系统和硬件系统之间的纽带。硬件系统的操作由此级控制，软件系统的各种程序，必须转换成此级的形式才能执行。

**3．操作系统级**

由操作系统程序实现。这些操作系统由机器指令和广义指令组成，广义指令是操作系统定义和解释的软件指令，所以这一级也称为混合级。计算机系统中硬件和软件资源由此级管理和统一调度，它支撑着其它系统软件和应用软件，使计算机能够自动运行，发挥高效率的特性。  

**4．汇编语言级**

给程序人员提供一种符号形式语言，以减少程序编写的复杂性。这一级由汇编程序支持和执行。如果应用程序采用汇编语言编写，则机器必须要有这一级的功能；如果应用程序不采用汇编语言编写，则这一级可以不要。

**5．高级语言级**

面向用户，为方便用户编写应用程序而设置的。这一级由各种高级语言编译程序支持和执行。

计算机系统各层次之间的关系十分紧密，上层是下层的扩展，下层是上层的基础。除第一级外，其它各级都得到它下面级的支持，同时也受到运行在下面各级上的程序的支持。第一级到第三级编写程序采用的语言，基本是二进制数字化语言，机器执行和解释容易。第四、五两级编写程序所采用的语言是符号语言，用英文字母和符号来表示程序，因而便于大多数不了解硬件的人们使用计算机。

**计算机系统的层次结构视频**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278770&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 2.4 1.4 计算机的主要性能指标

机器字长：计算机能直接处理的二进制信息的位数。字长标志着精度，字长越长，精度越高。

主  频：CPU的时钟频率（f）。一般情况下，时钟频率越高，运算速度越快。单位：KHZ,MHZ,GHZ

时钟周期：主频的倒数称为CPU时钟周期（T），

   T=1/f，单位：毫秒ms，微秒us，纳秒ns

总线宽度：数据总线一次能并行传输信息的位数。一般指CPU中运算器与存储器之间进行互连的内部数据总线的宽度。

存储容量：字数×字长，系统能存储的二进制字的总数。 1024（210）简称为1K（千），1024K（220）为1M（兆），1024M（230）为1G（千兆），1024G（240）为1T。

CPU执行时间：表示CPU执行一段程序所占用的CPU时间，可用下式计算：

   CPU执行时间=CPU时钟周期数×CPU时钟周期

CPI： 每条指令周期数，即执行一条指令所需要的平均时钟周期数。

   CPI=执行某段程序所需的CPU时钟周期数÷程序包含的指令条数

运算速度：每秒能执行多少百万条定点指令数，单位：MIPS即百万条指令/每秒。

   MIPS=指令数÷（程序执行时间×106）

FLOPS 表示每秒执行浮点操作的次数，用来衡量机器浮点操作的性能。用下式计算：

FLOPS=程序中的浮点操作次数÷程序执行时间（S）

MFLOPS 表示每秒百万次浮点操作次数，用下式计算：

![img](https://p.ananas.chaoxing.com/star3/origin/a0066d31be47020a5f4e15fa94d1bcd3.png) 

注意：MIPS是单位时间内的执行指令数，所以MIPS值越高说明机器速度越快。 MFLOPS是基于操作的，而不是基于指令的，只能用来衡量机器浮点操作的性能，而不能体现机器的整体性能。此外，还有TFLOPS表示每秒万亿次浮点操作次数，该技术指标一般在超级计算机中使用。

![img](https://p.ananas.chaoxing.com/star3/origin/b222c0636ddf903aa9ca8d8212b99956.png) 

In:表示执行程序中的指令总数；i=1,2...i...n

i表示该程序包含有i种指令

Ii表示该程序运行期间执行第i种指令的总数

T：时钟周期  f:时钟频率；

CPIi: 表示执行第i种指令所需的时钟周期数；

Nc：为该段程序执行所需的CPU时钟周期数；

![img](https://p.ananas.chaoxing.com/star3/origin/32a7f95002a74596112daad3af69a2e1.png) 

CPI:表示平均每条指令执行的所需的时钟周期数；

![img](https://p.ananas.chaoxing.com/star3/origin/845ed81fb0dbc6cb78e62df4cfbd1de5.png) 

Ii/In表示i指令在程序中所占比例

tcpu:表示执行该程序所需的CPU时间；

![img](https://p.ananas.chaoxing.com/star3/origin/f1b7eaee755b705ff523062ebcc5ed05.png) 

**由此，可以推出运算速度：**

![img](https://p.ananas.chaoxing.com/star3/origin/cf7a2f578495cc3272e51a8ce2e41f67.png) 

**计算机性能指标视频**:

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278780&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**第2次课课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_63c3b213437d1b92f9013093d666e1ff?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






## 第二章 运算方法与运算器

### 3.1 运算方法与运算器概述

1. **运算器的运算功能** 

计算机能够进行的运算包括：算术运算和逻辑运算。各种复杂的运算处理最终可分解为算术四则运算与基本的逻辑运算，而算术四则运算的核心是加法运算。通过补码运算可以化减为加，加法运算与移位的配合可以实现乘除运算，阶码运算与尾数的运算组合可以实现浮点运算。

**2．不同档次计算机系统运算功能的硬、软件界面划分**
（1）最低档的计算机
（2）在微型计算机中
（3）在超级小型机及以上的机型中
（4）在大、巨型计算机中

**3．运算器硬件组织的基本思想**
在运算器硬件组织方面，一般可分为这样几个层次：
（1）将一位二进制加法运算规则工程化为逻辑关系，用基本的门电路构成一位全加器；
（2）n位全加器连同进位传递逻辑（进位链），构成n位并行加法器；
（3）利用多路选择逻辑实现多种输入组合选择，使加法器扩展为多功能的算术、逻辑运算部件ALU；利用多路选择逻辑还可以实现移位功能，这一级通常位于ALU输入之后；
（4）加法器与移位器的组合可以构成乘法器与除法器，两种定点运算部件（定点整数的阶码运算器，定点小数的尾数运算器）的组合可以构成浮点运算器；
（5）算术、逻辑运算部件加上相关的寄存器组，就构成了一般的运算器组织。

### 3.2 2.1 数值与编码

**信息的数字化表示概念**

 1.**信息**： 计算机能够处理的如数值、文字、符号、语音、图形等数据称为信息。

 2.**数据**： 传递（携带）信息的实体，是信息的具体表现形式。信息是数据的内容或解释。

  3.**编码:** 就是用少量、简单的基本符号,选用一定的组合规则,以表示大量复杂多样的信息。如12345，Computer就是现实生活的典型例子.  计算机中使用的是二进制编码又称基二码。如果表示的是数值数据，则称为二进制数。 
    数据与编码的关系： 数据→适合传输的数字信号

  4.**信号**：电流、电位、脉冲等，数据以信号的形式在介质中传播。是数据的具体物理表现。

  5.**二进制编码的作用** 

  (1) 基二码在物理上最容易实现。如触发器具有两个稳定的状态可表示0和1，又很 方便地实现翻转。 
  (2)二进制算术运算规则简单,为提高计算机的运算速度,降低实现成本奠定了基础; 
  (3)基二码的两个基本符号“0”和“1”能方便地与逻辑命题的“是”和“否”，或称“真”和“假”相对应。

6.**在计算机中所有的数据均用二进制表示和存储**
   例如：用来表示外界各种信息的数值数据、非数值数据
        计算机内部的各种指令，状态，地址和数据等

7.**计算机中所有的运算都最终转化为二值运算，基于布尔代数运算规则**

**信息的数字化表示视频**:

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278766&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 3.2.1 2.1.1 进位计数制及其相互转换

**一、进位计数制（二、八、十、十六进制数）**

凡是需要计算机处理的信息，无论其表现形式是文本、字符、图形，还是声音、图象，都必须以二进制数的形式来表示。因此必须首先掌握计算机中数的表示和编码。人们最常用的数是十进制数。为了总结各种进制数的共同特点，这里首先归纳十进制的主要特点。

十进制数有两个主要特点：

①有十个不同的数字符号：0，1，2…，9。

② 遵循“逢十进一”原则。

一般地，任意一个十进制数N都可以表示为：

![二进制按权展开式.png](https://p.ananas.chaoxing.com/star3/origin/c8542328dd560ffac82e70c69f95f82e.png)





 式（2.1）是十进制按权的展开式。

式中，10称十进制数的基数，i表示数的某一位， 10i称该位的权，Ki表示第i位的数码，它可以是0～9中的任意一个数，由具体的数N确定。m和n为正整数， n为小数点左边的位数， m为小数点右边的位数。式（2-1）可以推广到任意进位计数制。



![任意进位计数制按权展开式.png](https://p.ananas.chaoxing.com/star3/origin/820f0dcf0fb034be2f85efd547e7e798.png)



设基数用R表示，则对于二进制，R=2，K为0或1，逢二进一。

对于八进制，R=8，K为0～7中的任意一个，逢八进一。

对于十六进制，R=16，K为0～9、A、B、C、D、E、F共16个数码中的任意一个，逢十六进一。

综上可见，上述几种进位制有以下共同点：

① 每种进位制都有一个确定的基数R，每一位的系数K有R种可能的取值。

② 按“逢R进一”方式计数，在混合小数中，小数点左移一位相当于乘以R，右移一位相当于除以R。

**二、数制间的转换**

**1．二、八、十六进制数转换为十进制数**

这种转换只需将二、八、十六进制数按权展开。

**例：**（110.01）2 = 1×22＋1×21＋0×20＋0×2-1＋1×2-2 =（6.25）10

 （175）8 =1×82＋7×81＋5×80 =（125）10

（B2C）16 =11×162＋2×161＋12×160＝（2860）10

**2．十进制转换成二、八、十六进制数**

十进制数转换成二、八、十六进制数时，需要把整数部分与小数部分分别转换，然后拼接起来。

（1）整数部分的转换——除基取余法  （2）小数的转换——乘基取整法

**3．二进制与八进制、十六进制的相互转换**

由于8＝23，16＝24，因此二进制与八进制或十六进制之间的转换就很简单。将二进制数从小数点位开始，向左每3位产生一个八进制数字，不足3位的左边补零，这样得到整数部分的八进制数；向右每3位产生一个八进制数字，不足3位右边补0，得到小数部分的八进制数。同理，将二进制数转换成十六进制数时，只要按每4位分割即可。        

**例：**（101101.101001）2＝（55.51）8＝（2D.A4）16

  很明显，八或十六进制要转换成二进制，只需将八或十六进制数分别用对应的三位或四位二进制数表示即可。

**进位计数制及其转换视频**:

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278838&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 3.2.2 2.1.2 真值和机器数

一个数值型数据的完整表示包括三个方面：

（1）采用什么进位计数制，就是逢几进位；

（2）如何使符号数字化，即机器数的编码方法；

（3）如何处理小数点位置，即采用定点表示或浮点表示。

**一、机器数与真值**

**机器数**是一个数在计算机中的表示形式，一个机器数所表示的数值称为**真值**。上面提到的二进制数，没有提到符号问题，故是一种无符号数的表示。对无符号数，机器数与真值相同，此时计算机的全部有效位都用来存放数据，它能表示的最大数值取决于计算机的字长；对于n位字长的计算机来说，表示无符号的整数范围为0～2n–1。 带符号数的习惯表示方法是在数值前用“+”号表示正数，“–”号表示负数。计算机只能识别0和1，对数值的符号也不例外。对于带符号的数，在计算机中，通常将一个数的最高位作为符号位，最高位为0，表示符号位为正；最高位为1，表示符号位为负。 

例如：真值  机器数

+82＝0 1010010

–82＝1 1010010

式中等号左边的+82和–82分别是等号右边的机器数所代表的实际数，即真值。

**二、原码、反码与补码**

**1．原码**

上述以最高位为0表示正数，1表示负数，后面各位为其数值，这种数的表示法称为**原码表示法**。

原码的几个特点：

（1）数值部分即为该带符号数的二进制值。

（2）“0”有+0和- 0之分，若字长为八位，则：（+0）原＝0 0000000，（–0）原＝1 0000000。

（3）8位二进制原码能表示的数值范围为：01111111～11111111，即+127～–127。

那么，对于n位字长的计算机来说，其原码表示的数值范围为2n-1–1～–2n-1+1。

原码简单，与真值转换方便。但是若两个异号数相加或两个同号数相减时，必须做减法。在计算机机器内部，为了避免做减法，把减法运算统一转换为加法运算，即用一个加法器来完成加减法运算，便引入了反码和补码。

**2．反码**

对于正数其反码形式与其原码相同，最高位0表示正数，其余位为数值位。

**例如**：X＝+5，  [X]原＝[X]反＝0 0000101

X＝+127， [X]原＝[X]反＝0 1111111

X＝+0，  [X]原＝[X]反＝0 0000000              

对于负数将其原码除符号位以外，其余各位按位取反，即可得到其反码表示形式。

**例如**：X＝–5，  [X]原＝1 0000101，  [X]反＝11111010

X＝–127， [X]原＝1 1111111，  [X]反＝10000000

X＝–0，  [X]原＝1 0000000，  [X]反＝11111111

从以上几例，可归纳出二进制反码的特点：

（1）“0”有+0和-0之分。

（2）8位二进制反码所能表示的数值范围为+127～–127，一般地，对于n位字长的计算机来说，其反码表示的数值范围为+2n-1–1～–2n-1+1。

（3）8位带符号的数用反码表示时，若最高位为“0”（正数），则后面的7位即为数值；若最高位为“1”（负数），则后面7位表示的不是此负数的数值，必须把它们按位取反，才是该负数的二进制值。

**例如**：[X]反＝10101010，它是一个负数，其中后7位为0101010，取反得1010101，所以负数：X＝–（1×26+1×24+1×22.+1×20）＝–85

**3．补码**

正数的补码与其原码具有相同的表现形式，最高位为符号位，其余为数值位。

**例如**：X＝+127，[X]原＝[X]反＝[X]补＝0 1111111

X＝+0， [X]原＝[X]反＝[X]补＝0 0000000

负数的补码即为它的反码在最低位加上1。                 

**例如**：X＝–5， [X]原＝1 0000101，[X]反＝1 1111010，[X]补＝1 1111011

X＝–0， [X]原＝1 0000000，[X]反＝1 1111111， [X]补＝0 0000000

X＝–128，[X]补＝1 0000000

从以上几例，可归纳出二进制补码的几个特点：

（1）[+0]补＝[–0]补＝00000000，无+0和–0之分。

（2）正因为补码中没有+0和–0之分，所以8位二进制补码所能表示的数值范围为+127～–128；同理可知，n位二进制补码表示的范围为+2n-1–1～–2n-1。在原码、反码和补码三者中，只有补码可以表示–2n-1。

（3）一个用补码表示的二进制数，当为正数时，最高位（符号位）为“0”，其余位即为此数的二进制值；当为负数时，最高位（符号位）为“1”，其余位不是此数的二进制值，必须把它们按位取反，且在最低位加1，才是它的二进制值。

**真值与机器数视频**:

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278842&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 3.2.3 2.1.3 BCD码

 BCD（二－十进制）码是一种常用的数字代码，它广泛应用于计算机中。这种编码法分别将每位十进制数字编成4位二进制代码，从而用二进制数来表示十进制数。

 计算机中采用的是二进制数，由于二进制数不直观，人们不习惯，因此计算机在输入和输出时，通常仍采用十进制数，只不过它要用二进制编码来表示，这时使用BCD码就很方便。

最常用的BCD码是标准BCD码或称8421码（这是根据这种表示中各位的权值而定的，其权值与普通的二进制相同）。表2.1列出了标准BCD码与十进制数字的编码关系。

表2.1标准BCD码与十进制数字的编码关系

| 十进制数 | 标准BCD码 | 十进制数 | 标准BCD码 |
| -------- | --------- | -------- | --------- |
| 0        | 0000      | 8        | 1000      |
| 1        | 0001      | 9        | 1001      |
| 2        | 0010      | 10       | 00010000  |
| 3        | 0011      | 11       | 00010001  |
| 4        | 0100      | 12       | 00010010  |
| 5        | 0101      | 15       | 00010101  |
| 6        | 0110      | 63       | 01100011  |
| 7        | 0111      | 94       | 10010100  |

十进制基数为10，它有10个不同的数码。因此为了能表示十进制数的某一位，必须选择至少4位二进制数（4位二进制数可以表示16种不同的状态，所以用以表示十进制数时要丢掉6种状态）。在BCD码中，0～9之间的十进制数的BCD码与二进制数中的表示形式是一样的，而1010～1111这6种状态不使用，因此用标准BCD码表示十进制数时，只要对每个十进制数字用适当的二进制数代替即可。

**例如**：十进制数123可以表示成：0001 0010 0011。

**例如**：十进制小数0.456可以表示成：0.0100 0101 0110。



#### 3.2.4  2.1.4 字符和文字的编码的编码

**二、字符的编码**
各种字符信息应用到计算机中时，都必须编写成二进制格式的代码，也就是字符信息用数据表示，称为符号数据。

计算机中最通用的字符信息编码为美国标准信息交换码，简称ASCⅡ码，这种代码用一个字节（8位二进制码）来表示一个字符，其中低7位是字符的ASCⅡ码值，例如：英文字母A是41H。小于20H的是不可显示字符，通常是命令代码，如0AH是换行命令符。

**三、汉字的编码（输入码、内码、字模码）**
用计算机进行汉字信息处理，首先必须将汉字代码化，即对汉字进行编码，称为汉字输入码。汉字输入码送入计算机后还必须转换成汉字内部码，才能进行信息处理。处理完毕之后，再把汉字内部码转换成汉字字模码，才能在显示器或打印机输出。因此汉字的编码有输入码、内码、字模码三种。

**1．汉字的输入编码（数字编码、拼音码、字形编码）**

目前，计算机一般是使用西文标准键盘输入的，为了能直接使用西文标准键盘输入汉字，必须给汉字设计相应的输入编码方法。其编码方案有很多种，主要的分为三类：数字编码、拼音码和字形编码。

（1）数字编码  

常用的是国标区位码，用数字串一个汉字输入。区位码是将国家标准局公布的6763个两级汉字分为94个区，每个区分94位，实际上把汉字表示成二维数组，每个汉字在数组中的下标就是区位码。区码和位码各两位十进制数字，因此输入一个汉字需按键四次。例如：“中”字位于第54区48位，区位码为5448。数字编码输入的优点是无重码，输入码与内部编码的转换比较方便，缺点是代码难以记忆。

（2）拼音码  

拼音码是以汉语拼音为基础的输入方法。凡掌握汉语拼音的人，不需训练和记忆，即可使用，但汉字同音字太多，输入重码率很高，因此按拼音输入后还必须进行同音字选择，影响了输入速度。

（3）字形编码  

字形编码是用汉字的形状来进行的编码。汉字总数虽多，但是由一笔一划组成，全部汉字的部件和各行其是是有限的。因此，把汉字的笔划部件用字母或数字进行编码，按笔划的顺序依次输入，就能表示一个汉字了。例如：五笔字型编码是最有影响的一种字形编码方法。

2．汉字内码

同一个汉字以不同输入方式进入计算机时，编码长度以及0、1组合顺序差别很大，使汉字信息进一步存取、使用、交流十分不方便，必须转换成长度一致、且与汉字惟一对应的能在各种计算机系统内通用的编码，满足这种规则的编码叫汉字内码。 

汉字内码：是用于汉字信息的存储、交换检索等操作的机内代码，一般采用两个字节表示。英文字符的机内代码是七位的ASCII码，当用一个字节表示时，最高位为“0”。为了与英文字符能够区别，汉字机内代码中两个字节的最高位均规定为“1”。 

有些系统中字节的最高位用于奇偶校验位或采用扩展ASCII码，这种情况下用三个字节表示汉字内码。

3．汉字字模码

字模码：是用点阵表示的汉字字形代码，它是汉字的输出形式。计算机内的汉字需要在屏幕上显示或在打印机上输出时，需要知道汉字的字形信息，汉字内码并不能直接反映汉字的字形，而要采用专门的字形码。 

根据汉字输出的要求不同，点阵的多少也不同。简易型汉字为16×16点阵，提高型汉字为24×24点阵、32×32点阵，甚至更高。点阵越大，描述的字形越细致美观，质量越高，所占存储空间也越大。汉字点阵的信息量是很大的，以16×16点阵为例，每个汉字要占用32个字节，国标两级汉字要占用256K字节。因此字模点阵只能用来构成汉字库，而不能用于机内存储。 

综上所述，汉字从送入计算机到输出显示，汉字信息编码形式不尽相同。汉字的输入编码、汉字内码、字形码是计算机中用于输入、内部处理、输出三种不同用途的编码，不要混为一谈。



### 3.3 2.2 定点数的表示与运算

 **无符号数和有符号数的表示**
在计算机中参与运算的机器数有两大类：无符号数和有符号数。

1)无符号数。指整个机器字长的全部二进制位均为数值位,没有符号位,相当于数的绝对值。若机器字长为8位,则数的表示范围为0-28-1,即0~255.

2)有符号数。在机器中,数的“正”、“负”号是无法识别的,有符号数用“0”表示“正”号,用“1”表示“负”号,从而将符号也数值化,并通常约定二进制的最高位为符号位,即将符号位放在有效数字的前面,组成有符号数。

有符号数的机器表示有原码、补码、反码和移码。为了能正确区别真值和各种机器数,约定用X表示真值,用[X]原表示原码, [X]补表示补码,[X]反表示反码, [X]移表示移码。

**机器数的定点表示**
根据小数点的位置是否固定，在计算机中有两种数据格式：定点表示和浮点表示。本节介绍定点数表示。

**第三-四讲 数据的机器表示**



#### 3.3.1 2.2.1  定点数与浮点数

以上各节介绍的数均未涉及到小数点的表示，计算机中如何处理小数点的问题呢？在计算机中涉及到小数点位置时，有定点和浮点两种表示方法。顾名思义，定点表示就是小数点在数中的位置是固定不变的；而浮点表示则是小数点的位置是浮动的。

**1．定点表示（纯整数、纯小数）**

任何一个二进制数都可以表示成一个纯整数或纯小数与一个2的正数次幂的乘积的形式：

N=2^P×S

其中，S表示全部有效数字，称之为N的尾数；P称为N的阶码，它指明了小数点的位置；2称为阶码的底。P和S均为用二进制表示的数。

**（1）定点整数** 
当P＝0，且尾数为纯整数时，定点数只能表示整数。形式为：

![](https://p.ananas.chaoxing.com/star3/origin/33c36882efb9abdf1b24ccd135bcfc8c.png)

通常数符0表示正数，1表示负数，尾数常以原码表示。

**（2）定点小数** 
当P＝0，且尾数为纯小数时，定点数只能表示纯小数。形式为： 

​    

![](https://p.ananas.chaoxing.com/star3/origin/a7fadd7b386704bbdc901c5b29752a3d.png)




在机器中小数点不占位置，因而不能区分是定点小数还是定点整数。小数点位置是由程序员预先约定好的。

**2．浮点表示**

如果阶码P不为0，且可以在一定范围内取值，这样的数称可以表示为浮点数。把一个数的有效数字和数的范围在计算机的一个存储单元中分别予以表示，相当于小数点的位置随数的比例因子不同在一定范围内可自由浮动，所以把这种表示方式称为浮点表示法。

**（1）浮点数一般原理性表示**

任意一个二进制数可以写成：N=2^e×M     

M称为浮点数的尾数，对应上面的S，纯小数表示，基数为2；

    e为浮点数的指数，对应上面的P，也叫阶码，整数表示。

**浮点数的表示格式为**：

浮点数在机器中由阶码和尾数来表示。尾数部分给出浮点数有效数字的数位，决定浮点数的精度；阶码指明小数点在数据中的位置，决定浮点数的表示范围。

数符决定浮点数的正负；阶符仅决定阶码本身的正负

阶码通常使用移码表示，移码是计算机中又一种机器数的编码方式。下面先介绍移码。

**（2）移码表示法**

移码通常用来表示浮点数的阶码，由真值加一个固定的常数生成，这个固定的常数称为偏移量。

设定点整数移码的形式为xm…x2x1 x0，则移码定义为：

                 [x]移=2m+x    -2m≤x＜2m

 [x]移是机器数，x是真值，2m是一个固定的偏移量，它也是xm的位权，移码共有m+1位。

例、某浮点数阶码8位，含一位符号位，移码表示。当阶码x = -0111 1111，则：

            [x]移 = 27 -  0111 1111 = 0000 0001

**移码的特点**：

最高位为0表示负数，为1表示正数。

移码全0时真值最小，全1时真值最大。

0的移码只有一个，[±0]移=100…0

同一数值的移码和补码，数位相同，而符号相反。

便于阶码大小的比较，便于对阶操作，有利于简化机器中的判零电路。

**（3）.规格化**

为了提高浮点数的表示精度，当尾数不为0时，尾数域的最高数位必须是一个有效值。如果最高数位不是有效值，则通过尾数移位并修改阶码的办法，使其变成有效值，这称为浮点数的规格化。

对规格化的浮点数规定如下：

如果尾数是原码表示，尾数的最高有效位一定为1。

如，0.1101×2-2 为规格化的浮点数表示，0.01101×2-1则不是。

如果尾数用补码表示，尾数的最高有效位一定与符号位相反。如：0.1x…x和1.0xx…x是规格化的补码表示。

-1/2是个特殊的浮点数，无规格化表示，所以不在浮点数规格化表示的范围内。

**（4）.IEEE754标准**

上面讨论的是一种原理性浮点数格式，为了便于软件移植，实用的机器浮点数格式与此有一些差异。下面简要介绍当前微机中使用较多的IEEE754标准浮点数格式。 

先从短实数表示开始，32位IEEE754标准下的浮点数格式如下图所示： 

由数符S、阶码E、尾数M三部分组成,指数以2为底、尾数以2为基数

符号位S占1位，安排在最高位，S=0表示正数，S=1表示负数。

阶码E占8位，移码表示，偏移量为+127。

尾数M占低23位，用原码表示，小数点在尾数域的最前面。

754标准规定：尾数域表示的值是1.M。由于最高有效位总是1，可以将 1 隐藏在小数点左边，可不予存储，尾数实际24位。于是，一个32位的浮点数的实际真值为：

X=(-1)s×(1.M)×2E-127，其中e=E-127



https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278774&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 3.3.2 12.2.2  定点数的加法、减法运算

**一. 补码加减运算公式**
补码加减是指：操作数用补码表示，连同符号位一道运算，结果也用补码表示。

定点小数补码加、减的基本公式是：

[ x + y ]补 = [ x ]补 +  [ y ]补      （ mod 2 ）

[ x - y ]补 = [ x ]补 +  [ -y ]补      （ mod 2 ）

**补码加减法的运算规则如下**：

（1）参与运算的操作数用补码表示，符号位作为数的一部分直接参与运算，所得即为补码表示的运算结果；

（2）若操作码为加，则两数直接相加；

（3）若操作码为减，则将减数变补后再与被减数相加；

（4）补码加法是在模2的意义下进行的，所以相加后符号位上超过2的进位要丢掉。

**补码加法与减法运算规则推导视频：**

**补码加法与减法运算示例视频：**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278839&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**二．溢出的概念**
运算结果若超出机器数的表示范围，称为溢出。显然，两异号数相加不会产生溢出，仅当两同号数相加时才有可能产生溢出。两个正数相加而绝对值超出允许的表示范围，称为正溢。两个负数相加而绝对值超出允许的表示范围，称为负溢。一旦溢出，溢出的部分将被丢失，留下来的结果将不正确。如果只有一个符号位，溢出将使结果的符号位产生错乱。因此，计算机应设置溢出判断逻辑，如果产生溢出，将停机并显示“溢出”标志；或者通过溢出处理程序，自动修改比例因子，然后重新运算。

例如：在定点小数机器中，数的表示范围为：|x|＜1，在运算过程中如出现大于1的现象，称为“溢出”。在定点机中，正常情况下溢出是不允许的。


溢出检测方法
1.单符号位法

因为发生溢出，所以最高数值位产生的进位改变了状态位，因此根据符号位产生的进位和数值最高位产生的进位，就可以检测结果是否溢出。即V=Cs ⊕C1

2.双符号位法

采用双符号位补码表示加数和被加数，按照补码加减法运算规则，当符号位不同时即表明发生了溢出。若符号位用 Ss1Ss2表示，则： 溢出  V=Ss1⊕Ss2

可定义运算结果中双符号位的含义如下：

00——结果为正，无溢出

01——结果正溢

10——结果负溢

11——结果为负，无溢出

结论：当两个符号位不一致时表明溢出，但不管结果是否溢出，第一符号位Sf1将始终能指示结果的正负。永远表示结果的正确符号，若两个符号位为“01”，表示正溢出；若两个符号位为 “10”，表示负溢出。

采用多符号位的补码又叫做变形补码，它的实质是扩大了模M。如果采用双符号位，则模M＝4。在乘除运算中广泛使用多符号位，但在主存中仍保持单符号位，运算时再扩充为多符号位，运算结束后又紧缩为单符号位，存入主存之中。

 **溢出及判断视频：**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278839&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**溢出及判断课件：**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_cf5b786833870c7ab87185bcf50c9bdc?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






##### 3.3.2.1 2.2 2.1补码加法与减法运算器

三.n位行波进位二进制加法减法器设计与实现

（1）将一位二进制加法运算规则工程化为逻辑关系，用基本的门电路构成一位全加器；

（2）n位全加器连同进位传递逻辑（进位链），构成n位并行加法器；

**n位行波进位二进制加法减法器设计与实现动画：**

**n位行波进位二进制加法减法器设计与实现视频：**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278849&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



##### 3.3.2.2  2.2.2.2 移位运算及舍入

**1.移位运算分类及算术移位规则**
移位是继算术、逻辑运算的又一基本操作，而且几乎所有机器的指令系统都设有移位指令。比如，乘法运算大多数是通过“累加—移位”来实现的。
算术移位操作时，符号位不变，数值大小则会发生变化。左移一位相当于乘以2，右移一位相当于除以2，因为移位使位权发生了变化。
在移位过程中，有效数位会被移出数据字而丢失。因此，还需要考虑数据的舍入问题，以尽可能提高数据的表示精度。
计算机中两种移位运算：

（1）逻辑移位  数码位置变化，数值不变。主要用于无符号数。逻辑循环左移，循环右移等

（2）算术移位  数码位置变化，数值变化，符号位不变。如算术左移、右移等



**2.舍入方法及移位运算应用**
在移位过程中，有效数位会被移出数据字而丢失。因此，还需要考虑数据的舍入问题，以尽可能提高数据的表示精度。 舍入操作有以下几种：
（1）截断法：无条件地舍去多余的位。
（2）恒置1法：舍去多余位，保留部分最低位置1。
（3）0舍1入法：舍去部分的最高位为1时，则保留部分末位加1，与四舍五入法类似。
截断法和恒置1法误差比较大；0舍1入法比较合理，但当保留部分为0.11…1时，会导致再次溢出。末位恒置1，在除法中非常有用。



https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278852&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 3.3.3 2.2.3 定点数的乘法、除法运算

**1.定点乘法运算**
**1.1 定点原码一位乘及其实现**

在定点计算机中，两个原码表示的数相乘的运算规则是：乘积的符号位由两数的符号按异或运算得到，而乘积的数值部分则是两个正数相乘之积。

设n位被乘数和乘数用定点小数表示（定点整数也同样适用）

被乘数：  [x]原 = xf .xn-1 …x1 x0

乘数：   [y]原 = yf .yn-1… y1 y0

乘积：     [z]原 =（xf⊕yf ）+（0.xn-1 …x1 x0）（0.yn-1… y1 y0）

式中，xf为被乘数符号，yf为乘数符号。

乘积符号的运算法则是：同号相乘为正，异号相乘为负。由于被乘数和乘数和符号组合只有四种情况（xf yf = 00，01，10，11），因此积的符号可按“异或”（按位加）运算得到。  



**2.3.1 原码一位乘**

原码一位乘法是从手算演变而来的，即用两个操作数的绝对值相乘，乘积的符号为两操作数符号的异或值(同号为正，异号为负).

乘积 P = |X|×|Y|

符号 Ps = Xs⊕Ys

原码一位乘法的规则： 

①被乘数和乘数取绝对值。

②乘数的最低位为1时，部分积加被乘数，否则加0。

③部分积和乘数右移一位。

④重复②③，直到乘数全部移出。

⑤积的符号由两乘数符号的异或得到。

⑥积的符号与积的数值拼接得到积的原码。



**2.定点除法运算**

原码除法的算法原理：两个原码表示的数相除时，商的符号由两数的符号按位异或求得，商的数值部分由两数的数值部分相除求得。

设有n位定点小数（定点整数也同样适用）：

被除数x，其原码为：  [x]原 = xf . x n-1…x1x0

除数y，其原码为：[y]原 = yf . yn-1…y1y0

则有商q = x/y，其原码为：[q]原 =（xf⊕yf ）＋（0. x n-1…x1x0 / 0. yn-1…y1y0）

商的符号运算qf= xf⊕yf，与原码乘法一样，用按位异或方式得到。商的数值部分的运算，实质上是两个正数求商的运算。根据我们所熟知的十进制除法运算方法，很容易得到二进制数的除法运算方法，所不同的只是在二进制中，商的每一位不是“1”就是“0”，其运算法则更简单一些。

**2.1 恢复余数除法算法原理**



从手工除法运算的过程可以得出类似乘法的结论，串行除法运算的思想是：

1.计算机中，小数点是固定的，不能简单地采用手算的办法。为便于机器操作,计算机一般采用 “除数右移”或 “余数左移”的方法。2.机器的运算过程和人毕竟不同，人会眼看心算，一看就知道够不够减。但机器却不会心算，必须先作减法，若余数为正，才知道够减；若余数为负，才知道不够减。

 不够减时必须恢复原来的余数,以便再继续往下运算。这种方法称为恢复余数法。要恢复原来的余数,只要当前的余数加上除数即可。但由于要恢复余数，使除法进行过程的步数不固定，因此控制比较复杂



##### 3.3.3.1 2.2.3.1 定点乘法

**1.1 定点原码一位乘及其实现**

**1.2 定点乘法阵列乘法器原理及其实现**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278850&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

 **定点乘法运算与运算器课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_f1eaf74e85f5c6149ee5b16719934391?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






##### 3.3.3.2 2.2.3.2   定点除法

**2.1 恢复余数除法算法原理**

**2.2 不恢复余数除法（加减交替法）算法原理**

**2.3 阵列除法器原理及其实现**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278851&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**第八讲课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_3f05fd4ee5a29ae41a6ea1b9db08fd39?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




### 3.4 2.3  定点运算器

**1.定点运算器的组成及ALU功能的多样性**

**2. ALU之先行进位**

**3.ALU之设计及应用实例**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278779&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**第九讲 定点运算器课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_74986e3e8b368979de7bee9278235e69?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>








### 3.5 2.4 浮点运算与运算器

**1.浮点数加减法运算规则及其步骤**

**2.浮点数乘除法运算规则及浮点运算器的实现**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278787&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**3.第十讲 浮点运算方法与浮点运算器课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_9877cd646e97e614a7301db3bef16116?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




## 第三章 存储系统

### 4.1 3.1 存储系统概述

**1.存储器的分类**
按存储介质分：
半导体存储器 
磁表面存储器 
光存储器

**按读写功能分：**
只读存储器(ROM)
随机读写存储器(RAM)

**按存取方式分：**
随机存储器
顺序存储器
半顺序存储器

**按信息可保存性分：**
易失性存储器
非易失性存储器

**按在计算机系统中的作用分**

根据存储器在计算机系统中所起的作用，可分为主存储器、辅助存储器（外存）、高速缓冲存储器、控制存储器等

**存储器分类视频：**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278759&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



**2.多级存储体系**
  对存储器最基本的要求是：存储容量大、存取速度快、成本价格低。但是在一个存储器中要求同时兼顾这三方面是困难的。为了解决这方面的矛盾，目前在计算机系统中，通常采用三级存储器结构，即使用高速缓冲存储器、主存储器和外存储器。CPU能直接访问的存储器称为内存储器，它包括高速缓冲存储器和主存储器。CPU不能直接访问外存储器，外存储器的信息必须调入内存储器后才能为中央处理器进行处理。

**（1）主存储器**

主存储器：是能由CPU直接编程访问的存储器，它存放当前需要执行的程序与需要处理的数据。

为了能满足CPU编程直接访问的需要，对主存的基本要求是：

（1）能够随机访问

（2）工作速度快

（3）具有一定的存储容量

**（2）外存储器（磁盘、光盘、闪存）**

由于主存容量有限（受地址位数、成本、速度等因素制约），在大多数计算机系统中设置一级大容量存储器，如磁盘、光盘、闪存等，作为对主存的补充与后援。常称为外存。

外存储器用来存放需要联机保存但暂不使用的程序与数据。程序与数据只有进入主存才能真正运行，而外存储器只是后援。

根据外存担负的任务，它应当具有很大的存储容量，速度要低些，存储一位的平均成本（即价格/位）也比主存低很多。

**（3）高速缓冲存储器（双极型半导体存储器）**

为了解决CPU与主存之间的速度匹配，许多计算机设置一种高速缓冲存储器（Cache），如图所示。高速缓存中存放着最近要使用的程序与数据，作为主存中当前活跃信息的副本。

**存储系统的分级结构视频：**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278759&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



**3.主存储器的组织**

 主存由存储体、地址译码驱动电路、I/O和读写电路组成。

![img](https://p.ananas.chaoxing.com/star3/origin/3c1caf46e23acec9a6684317eaab7921.png)

**4.主存的主要技术指标**

•**存储容量**：存储器中可以容纳的存储单元的总数称为该存储器的存储容量。存储容量越大，能存储的信息越多。存储容量常用字数或字节数来表示。

•**存取时间**：启动一次存储器操作到完成该操作所经历的时间。存取时间越小，存取速度越快。

•**存取周期**：进行一次完整的主存读写操作所需要的全部时间，即连续两次读写操作之间所需要的最短时间。存取周期含内部状态恢复时间，略大于存取时间.

•**存储器带宽**：单位时间内存储器所存取的信息量，它以字/秒、字节/秒、位/秒为单位来表示，带宽是衡量存储器数据传输速率的重要指标。

**主存储器的组织及主要指标视频**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278759&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 4.2 3.2 SRAM 存储器

**1.存储元的读写原理（六管静态存储元工作原理）**

**2.[SRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[存储器的组成**

**3.[SRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)存储芯片及示例**

**4.[SRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)的读写时序**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278767&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



**第十一讲 存储系统和SRAM存储器课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_84960a06fdf5d54623ac38c6c51f5477?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>








### 4.3 3.3 DRAM 存储器

1.[单管动态存储元](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

2.[DRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[的刷新](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

3.[DRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[芯片结构及特点](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

4.[DRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[的读写时序](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

5.[DRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[与](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[SRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[的不同](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

6.[高级](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[DRAM](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[存储器](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_062e11304086f82d429282e83e01a351?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




### 4.4 3.4  只读存储器和闪速存储器

**一、只读存储器**

掩膜型只读存储器（MROM）

可一次编程型只读存储器（PROM）

光擦除可重编程只读存储器（EPROM）

电擦除可重编程只读存储器（EEPROM）

**二、闪存**

闪存：快擦写型只读存储器（Flash EEPROM）

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278789&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 4.5 3.5 主存储器与CPU的连接

**存储器容量的扩展**

（1）位扩展——加大字长，而芯片的字数和存储器的字数是一致的。 

（2）字扩展——仅在字数方向扩展，而位数不变。由片选信号来区分各个芯片。 

（3）字和位同时扩展——当前两种扩展的组合。 

地址线：低位与存储芯片的地址线相连，高位用做片选信号。 

数据线：数据位数与CPU数据线数相等 

写命令线：直接与存储芯片的读写控制端相连。 

片选线：高位地址必须和访存控制信号共同产生存储芯片的片选信号。通 常还需要用到一些逻辑电路，如译码器及各种门电路，来产生片选有效信号。 

1.**位扩展视频**

2.**字扩展**

3.**字位同时扩展**

4.**CPU和存储器的连接方法**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278794&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



**第十三讲 存储器的扩展课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_37861ec1fc5c8ddf03b77b3d0ffc74e5?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




### 4.6 3.6 双端口存储器和多模块交叉存储器

**1.双端口存储器**

**2.多模块交叉存储器**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278799&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



**第十四讲 只读存储器和闪存&并行存储器 课件**

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_9e391d0d03cbeeda962cc6405cb17d58?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






### 4.7 3.7  高速缓冲存储器

 **1.Cache的功能**

Cache是为了解决CPU和主存之间速度不匹配而采取的一项重要技术。Cache位于主存储器与CPU的通用寄存器组之间，其容量约为几K字节到几百K字节，由高速的SRAM组成。Cache用来存放当前最活跃的程序和数据，作为主存某些局部区域的副本。

**2.Cache的基本原理**

CPU与Cache之间的数据交换是以字为单位，而Cache与主存之间的数据交换是以块为单位。一个块通常由若干定长的字组成。

  **[基本原理]** ： 当CPU要读取主存中一个字时，总是将存放该字的内存地址同时发给Cache和主存。此时，Cache控制逻辑立即依据地址，判断该字当前是否已在 Cache中：若是：将此字立即传送给CPU，CPU无需再访问主存（让主存访问失效）；**若非：**则用主存读周期把此字从主存读出送到CPU，与此同时：把含有这个字的数据块从主存读出并装入到Cache中，将Cache中较旧的内容（块）替换掉。 这种替换控制由始终管理Cache使用情况的硬件逻辑电路来实现，最常用的替换算法为LRU（最近最少使用策略，在后面介绍）。下图示出Cache工作原理图。

![img](https://p.ananas.chaoxing.com/star3/origin/46e3785ad34b49ed492682c6db878a5d.png)

**4.Cache与主存系统的性能评价**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

5.Cache与主存系统的地址的映射方式

（1）全相联映射方式

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

（2）直接映射方式

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

（3）组相联映射方式

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**6．Cache与主存系统的替换策略**

   **（1）最不经常使用算法LFU**

       LFU算法将Cache中一段时间内被访问次数最少的那行数据换出。每行设置一个计数器。从0开始计数，每访问一次，被访行的计数器增1。当需要替换时，将计数值最小的行换出，同时将这些行的计数器都清零。

　　这种算法将计数周期限定在对这些特定行两次替换之间的间隔时间内，不能严格反映近期访问情况。

   **（2）近期最少使用算法LRU**      

     LRU算法将近期内长久未被访问过的行换出。每行也设置一个计数器，cache每命中一次，命中行计数器清零，其它各行计数器增1。当需要替换时，将计数值最大的行换出。

　　这种算法保护了刚拷贝到cache中的新数据行，有较高的命中率。

   **（3）随机替换**

       随机替换策略从特定的行位置中随机地选取一行换出。在硬件上容易实现，且速度也比后两种策略快。

缺点是降低了命中率和cache工作效率。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

**7．Cache与主存系统的写操作策略**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278801&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_d08f838cc749cf562071d480335af0fc?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






### 4.8 3.8 虚拟存储器

[3.8.1 ](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[虚拟存储器的基本概念](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

[3.8.2 ](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[段式虚拟存储器](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

[3.8.3 ](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[页式虚拟存储器](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

[3.8.4 ](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[段页式虚拟存储器](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

[3.8.5 ](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)[替换算法](https://mooc1.chaoxing.com/mooc-ans/knowledge/null)

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278805&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_be647a8aafbeb02523678759126a6506?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




## 第四章 指令系统

### 5.1 4.1  指令系统的发展与性能要求

**4.1.1 指令系统的发展**

**1.若干名词术语**

**微指令：**微程序级的命令，属于硬件

**宏指令**：由若干条机器指令组成的软件指令，属于软件

**机器指令**：介于微指令和宏指令之间，通常简称为指令，每一条指令可完成一个独立的算术运算或逻辑运算操作。

**系列计算机：**指基本指令系统相同、基本体系结构相同的一系列计算机。如奔腾系列。

**2.指令系统的发展**

（1）20世纪50年代，硬件结构简单，指令少，十几条到几十条

（2）20世纪60年代后期，集成电路技术出现， 指令多达一二百条，指令种类、寻址方式多样化，开始出现系列计算机

（3）20世纪70年代末期，随着超大规模集成电路技术VLSI的飞速发展，指令的数量达到顶峰，多达几百条，后开始精简指令条数，出现精简指令计算机RISC和复杂指令计算机CISC的概念。

**4.1.2 指令系统的性能要求**

一个完善的指令系统应满足：

（1）**完备性** ：指令丰富，功能齐全，使用方便。

（2）**有效性**：程序占用空间小，执行速度快。

（3）**规整性**：对称性，匀齐性，指令格式和数据格式的一致性。

（4）**兼容性**： “向上兼容”

**4.1.3 低级语言与硬件结构的关系**

**机器语言：**计算机能够直接识别和执行的唯一语言就是二进制机器语言，但不易编写和阅读、修改等。

**汇编语言**：助记符语言，和机器指令一一对应，对机器硬件依赖性强，执行速度快；执行时需先汇编生成目标程序，链接后生成可执行文件。

**高级语言**：和硬件无关，无需硬件基础，方便用户编写程序，但执行时需先编译然后才能执行。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278768&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 5.2 4.2 指令格式

**1.指令的基本格式**
一条指令一般应提供两方面的信息：一是指明操作的性质，即要求CPU做何操作，有关的代码称作操作码。二是给出与操作数有关的信息，如直接给出操作数本身或是指明操作数的来源、运算结果存放在何处，以及下一条指令从何处取得等，由于在大多数情况下指令中给出的是操作数来源的地址，仅在个别情况下直接给出操作数本身，所以第二部分往往称作**地址码**。

| 操作码OP | 地址码AD |
| :------: | :------: |

在设计指令格式时需要考虑这样一些问题：

（1）指令字长需多少位，是定字长还是变字长；
（2）操作码结构需多少位，位数与位置固定还是可扩展；是一段操作码还是由若干段组成；
（3）地址结构——一条指令的执行涉及到哪些地址，在指令中给出了哪些地址，哪些地址是隐含约定；
（4）寻址方式——如何获得操作数地址，是直接给出还是间接给出，还是经过变址计算获得等。

**2.指令字长和机器字长的关系**

  一个指令字中包含二进制代码的位数，称为指令字长。在一个指令系统中，如果各种指令字长度是相等的，称为**等长指令字结构**，它们可以都是**单字长**指令或**半字长**指令。这种指令字结构简单，且指令字长度不变。如果各种指令字长度随指令功能而异，比如有的指令是单字长指令，有的指令是**双字长**指令，就称为**变长指令字结构**。这种指令字结构灵活，能充分利用指令长度，但指令的控制较复杂。
  现代计算机广泛采取变字长指令格式，对于操作简单的指令，采取短字长，所占存储空间少，执行速度快。对于操作复杂的指令，所需给出的信息量大，则采取增加指令位数的长指令。

**3.指令操作码扩展技术**

固定操作码长度的格式和可变操作码长度格式
在设计操作码不固定的指令系统时，应安排指令使用频度高的指令占用短的操作码，对使用频度低的指令可占用较长的操作码，这样可以缩短经常使用的指令的译码时间。
采用扩展操作码技术，使操作码的长度随地址数的减少而增加，即不同地址数的指令可以具有不同长度的操作码，从而可以有效地缩短指令字长。指令操作码扩展技术是一种重要的指令优化技术，它可以缩短指令的平均长度，增加指令字所能表示的操作信息。但指令操作码扩展技术需要更多的硬件支持，它的指令译码更加复杂，使控制器设计难度增大。

**4. 指令格式举例及例题讲解**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278772&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_f750b4feb5a2d353b5ee555befad6bba?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






### 5.3 4.3 指令与数据的寻址方式

计算机中有两种信息。即**指令**和**数据**（或称**操作数**），它们都存放在存储器相应的地址中。运行程序时，计算机逐条执行指令，并对数据进行处理。如何从存储器中找到所需要的**指令**或**数据**呢？很明显，只要找到它们在存储器的**有效地址**即可。

 当操作数或某条指令存储在存储器单元时，其存储单元的编号，就是该操作数或指令在存储器中的地址。

 所谓**寻址方式**，就是**寻找指令或操作数的有效地址的方式**。寻址方式分为两类，即**指令寻址方式**和**数据寻址方式**。

**1.指令寻址方式**

 （1）顺序寻址方式

 由于指令地址在内存中按顺序安排，当执行一段程序时，通常是一条指令接一条指令地顺序执行。这种顺序执行程序的过程，我们称为指令的顺序寻址方式。必须使用程序计数器**PC**来计数指令的顺序号，该顺序号就是指令在内存中的地址。

 （2）跳跃寻址方式

  当程序转移执行时，指令的寻址就采取**跳跃寻址方式**。所谓**跳跃**，是指下条指令的地址码不是由PC给出，而是由**本条指令**给出。

  采用指令跳跃寻址方式，可以实现程序转移或构成循环程序，从而能缩短程序长度，或将某些程序作为公共程序引用。指令系统中的各种条件转移或无条件转移指令，就是为了实现指令的跳跃寻址而设置的。 

**2.数据寻址方式**

 （1）隐含寻址

 （2）立即寻址

 （3）直接寻址

 （4）间接寻址

 （5）寄存器（直接）寻址

 （6）寄存器间接寻址

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278783&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_5d6c15f584fba135fa61e5d28e288051?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>




### 5.4 4.4 典型指令和CISC和RISC的基本概念

**4.5.1 指令的分类**
   不同机器的指令系统是各不相同的。从**指令操作码**功能来考虑，一个较完善的指令系统应当有数据处理、数据存储、数据传送、程序控制四大类指令。具体有**数据传送类指令、算术运算类指令、逻辑运算类指令、程序控制类指令、输入输出类指令、字符串处理指令、系统控制类指令。**

1.数据传送指令

  主要包括取数指令，存数指令等。主要用于主存和寄存器之间，或者是寄存器与寄存器之间的数据传送。

2.算术运算指令

  包括二进制定点加、减、乘、除指令，浮点加、减、乘、除指令，求反、求补指令，算术移位指令等，主要用于定点和浮点的算术运算，大型机中的向量运算指令。

3.逻辑运算指令

  包括逻辑加、逻辑乘、按位加、逻辑移位等，主要用于无符号数的位操作、代码转换、判断及运算。

4.程序控制指令

  即转移指令。如无条件转移指令，各种条件转移指令，转子程序指令，返回主程序指令，中断返回指令等。转移地址的一般采用直接寻址和相对寻址方式来确定。

5.输入输出指令 

 IN和OUT指令。用于实现外设和CPU之间，或外围设备与外围设备之间的信息传送。但不是所有的计算机都有专门的输入输出指令。

6.字符串处理指令

  包括字符串传送、字符串传送、比较、查找等针对字符串类型的处理指令。

7.特权指令

  具有特殊权限的指令。主要用于操作系统或其他系统软件，一般不直接提供给用户使用。主要用于系统资源的分配和管理。

8.其它指令

  除以上各类指令外，还有状态寄存器置位、复位指令、测试指令、暂停指令、空操作指令，以及其他一些系统控制用的特殊指令。



**4.5.1 精简指令系统和复杂指令系统的概念**
  精简指令系统计算机 RISC(Reduced Instruction set Computer)指令系统的最大特点是：

⑴选取使用频率最高的一些简单指令，指令条数少；

⑵指令长度固定，指令格式种类少，寻址方式种类少；

⑶只有取数／存数指令访问存储器，其余指令的操作都在寄存器之间进行。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278784&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 第五章 中央处理器

### 6.1 5.1  CPU的功能和组成

**5.1.1 cpu的功能** 

   当代主流计算机所遵循的仍然是冯.诺依曼的“存储程序”思想，即：当用计算机解决某个问题时，首先必须为它编写程序。
  由第四章的讨论已知，程序实质上是一个指令序列，这个序列将明确地告诉计算机：应该逐步地执行什么操作；在什么地方找到用来操作的数据，结果存到何处等。
 一旦把程序装入内存储器，就可以由计算机来自动完成取出指令和执行指令的任务。专门用来完成此项工作的计算机部件称为中央处理器，通常简称：CPU。显然， CPU对整个计算机系统的运行是极其重要的。

CPU具有如下四方面的基本功能：

★ 指令控制
　　程序的顺序控制称为指令控制。用于控制指令严格地按程序规定的顺序，逐条取出并加以执行。

★ 操作控制
　　一条指令的功能往往是由若干个操作信号的组合来实现的，因此，CPU负责管理并产生每条指令所对应的操作信号，并把各种操作信号送往相应的部件，从而控制这些部件按指令的要求进行动作。

★ 时间控制
　　对各种操作的实施时间进行定时，称为时间控制。在计算机中，各种指令的操作信号以及一条指令的整个执行过程都严格的时间要求，需要CPU设定规定的时序关系。

★ 数据加工
　 数据加工就是对数据进行算术运算和逻辑运算处理，这是CPU的核心功能之一。

**5.1.2 CPU的基本组成**

CPU的基本部分由运算器和控制器组成。早期的CPU基本组成模型图如下图1所示。

![早期CPU模型图.png](https://p.ananas.chaoxing.com/star3/origin/74d37584cfbb6456a5e58ecd654eac65.png)

​                            图1 早期CPU模型图

   图中虚线部分为CPU。此为典型的冯诺依曼计算机结构，主存在CPU片外，后为了提高CPU的工作速度和方便实现指令流水线，开始将程序和数据分开存放到两个高速缓存cache中，并放到了CPU内部，此种结构即为哈佛结构，如图2所示。

![CPU模型图.png](https://p.ananas.chaoxing.com/star3/origin/857977985412d5fa7e5c5470fcc179c8.png)

​                           图2 CPU模型图

**1.控制器**

由程序计数器PC、指令寄存器IR、指令译码器、时序产生器和操作控制器等组成，它是发布命令的“决策机构”，即完成对整个计算机系统操作的协调与指挥。
  控制器的主要功能：
  (1)控制机器从内存中取出一条指令，并指出下一条指令在内存中的位置；
  (2)对指令进行译码或测试，并产生相应的操作控制信号，送往相应的部件，启动规定的动作；
  (3)指挥并控制CPU、内存与输入/输出（I/O）设备之间数据流动的方向。

**2.运算器**

由算术逻辑运算单元(ALU)、通用寄存器（R0～R3） 、数据缓冲寄存器和状态条件寄存器组成，它是数据加工处理部件。
  相对控制器而言，运算器是一种执行部件，它是接受控制器的命令而进行动作，即：运算器所进行的全部操作都是由控制器发出的控制信号来指挥的。 
  运算器的主要功能：
  (1)执行所有的算术运算；
  (2)执行所有的逻辑运算，并进行逻辑测试（如零值测试或两个值的比较等）。

**5.1.3 CPU的主要寄存器**

CPU中至少要有六类寄存器：：数据缓冲寄存器（DR）、指令寄存器（IR）、程序计数器（PC）、地址寄存器（AR）、通用寄存器（R0～R3）、状态条件寄存器（PSW），并且根据需要，可以扩充其数目。

**1.数据缓冲寄存器DR**

数据缓冲寄存器DR用来暂时存放ALU的运算结果，或由数据存储器读出的一个数据字，或来自外部接口的一个数据字；反之，当向内存存入一条指令或一个数据字时，也先将它们送到数据缓冲寄存器DR中，然后再写入内存。
　　缓冲寄存器DR的作用是 ：
  (1)作为ALU运算结果和通用寄存器之间信息传送中时间上的缓冲；
  (2)用于补偿CPU与内存及外围设备之间在操作速度上的差别。

**2.指令寄存器IR**

  指令寄存器IR用来保存当前正在执行的一条指令。当执行一条指令时，先把它从内存取到缓冲寄存器中，然后再传送至指令寄存器。
  指令分为操作码和地址码字段，由二进制数字组成。为了执行任何给定的指令，必须对操作码进行测试，以便识别所要求的操作，指令译码器就是完成这项工作的。
 指令寄存器中的操作码字段被送入指令译码器中，操作码一经译码后，即可向操作控制器发出具体操作的特定信号。

**3.程序计数器PC**
  为了保证程序能够连续地执行下去，CPU必须具有某些手段来自动确定下一条指令的地址。而程序计数器PC正是起到这种作用的，所以PC通常又称为指令计数器。
  在程序开始执行前，必须将该程序在内存单元的起始地址，即第一条指令的地址送入PC。当执行指令时，CPU将自动修改PC的内容，使其保持的总是将下一条要执行的指令的地址。由于大多数指令都是按顺序来执行的，所以修改的过程通常只是简单的对PC自增即可。
　　当遇到转移指令（如JMP指令）时，由于后继指令的地址（即PC的内容)必须从指令的地址段取得。在这种情况下，下一条指令的地址将由转移指令来规定，而不是像通常一样按顺序来取得。因此程序计数器PC的结构，应当是具有数据寄存和计数两种功能的结构。

**4.地址寄存器AR**

​    地址寄存器AR用来保存当前CPU所访问的内存单元的地址。由于在内存和CPU之间存在着操作速度上的差别，所以必须使用地址寄存器来保持地址信息，直到对内存的读/写操作完成为止 。
　　当CPU与内存进行信息交换（存/取数据或指令）时，都要使用地址寄存器AR和数据缓冲寄存器DR。
​    此外，可以把外围I/O设备的设备地址作为像内存的地址单元那样来进行访问，那么可知，当CPU和外围设备交换信息时，同样需要使用地址寄存器和数据缓冲寄存器。
　　地址寄存器AR的结构和DR、IR一样，通常使用单纯的寄存器结构。信息的存入一般采用电位-脉冲方式，即电位输入端对应数据信息位，脉冲输入端对应控制信号，在控制信号clk的作用下，瞬时地将信息打入寄存器。

**5.通用寄存器（R0～R3）**

​    其功能是：当运算器需执行算术或逻辑运算时，为ALU提供一个工作区，它可暂时存放ALU运算所需数据及运算结果信息。
　　目前CPU中的通用寄存器，多达16个，32个，上百个，尤其是在精简指令计算机中通用寄存器数量，达到几百个。当使用多个通用寄存器时，就变成通用寄存器组或堆结构，其中任何一个可存放源操作数，也可存放结果操作数。在这种情况下，需要在指令格式中对寄存器号加以编号。

**6.状态条件寄存器（PSW）**

   状态条件寄存器保存由算术指令和逻辑指令运行或测试的结果建立的各种条件码内容，如运算结果进位标志(C)，运算结果溢出标志（V)，运算结果为零标 志(Z)，运算结果为负标志(N)等等。这些标志位通常分别由1位触发器保存。
　　除此之外，状态条件寄存器还保存中断和系统工作状态等信息，因此，状态条件寄存器是一个由各种状态条件标志拼凑而成的寄存器。其作用是使CPU和系统能及时了解机器运行状态和程序运行状态。

**5.1.4 操作控制器与时序产生器**

​    数据通路: 是指寄存器之间传送信息的通路。
　　信息从什么地方开始，中间经过哪个寄存器或多路开关，最后传送到哪个寄存器，都要加以控制。在各寄存器之间建立数据通路的任务，是由称为**操作控制器**的部件来完成的。
  时序产生器：产生并发出计算机所需要的时序控制信号。
  **操作控制器**的功能: 就是根据指令操作码和时序信号，产生各种操作控制信号，以便正确地建立数据通路，从而完成取指令和执行指令的控制。

根据设计方法不同，操作控制器可分为时序逻辑型、存储逻辑型两种类型。

1. 硬布线控制器
   　　是采用时序逻辑技术来实现的控制器,属于时序逻辑型； 
2. 微程序控制器

　　是采用存储逻辑来实现的控制器，属于存储逻辑型;

本章后续内容将重点围绕微程序控制器的设计思想，组成，设计技术等进行学习。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278762&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5

<iframe height=498 width=510 src="https://pan-yz.chaoxing.com/screen/file_11c67815e6e14e3927d6975c5c650fa0?ext=%7B%22_from_%22%3A%22227065309_80062403_236994307_2509345810dcd413efaf3ed3b4025d20%22%7D"> </iframe>






### 6.2 5.2 指令周期的概念

**1.指令周期的概念**

 计算机所以能自动地工作，是因为CPU能从存放程序的内存里取出一条指令并执行这条指令；紧接着又是取指令，执行指令……，如此周而复始，构成了一个封闭的循环。除非遇到停机指令，否则这个循环将一直继续下去。 

 **指令周期 :**  CPU从内存取出一条指令并执行完这条指令所需的时间总和。

 **CPU周期** : 又称**机器周期**，CPU访问内存所花的时间较长，因此，用CPU从内存读取 一条指令 字的所需的最短时间来定义。

 **T周期 :** 通常称为节拍脉冲或T周期。一个CPU周期包含若干个T周期。

 **相互关系：**

​    1个指令周期 = 若干个CPU周期；

​    1个CPU周期= 若干T周期

2.几种典型指令的指令周期



  针对上述CPU模型图

![CPU模型图.png](https://p.ananas.chaoxing.com/star3/origin/857977985412d5fa7e5c5470fcc179c8.png)

 给出如下程序片段包含的5五条典型指令了解其执行过程：

  100  ；(R0)=00，(R1)=10，(R2)=20 ，(R3)=30
  101  MOV R0,R1   ； （ R1 ）→ R0
  102  LAD R1,6 ；（100）→R1 
  103  ADD  R1, R2 ；（R1）+ （R2） → R2     
  104  STO R2,  （R3）   ；(R2)=120写入数据存储器30号单元        
  105  JMP 101 ； 101 → PC  
  106   AND R1,R3 ； （R1）·（R3） → R3

**3.用方框图语言表示指令周期**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278773&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 6.3 5.3 时序产生器和控制方式

1.时序信号的作用和体制；2.时序信号产生器；3.控制方式

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278778&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 6.4 5.4 微程序控制器

**5.4.1 微程序控制原理**

**微程序控制器的基本设计思想**：

（1）将控制器所需的微命令，以代码（微码）形式编成微指令，存入一个用ROM构成的控制存储器中。

（2）将各种机器指令的操作分解为若干微操作序列。

**1.微命令和微操作**

一台数字计算机基本上可以划分两大部分：**控制部件**和**执行部件**。控制器就是控制部件，而运算器、存储器、外围设备相对控制器来讲，就是执行部件。一条指令执行时，由控制部件通过控制线向执行部件发出各种控制命令，通常把这种控制命令叫做**微命令**，而执行部件接受命令后所进行的操作，叫做**微操作**。

控制部件与执行部件之间的另一种联系是**反馈信息**。

**微操作在执行部件中是最基本的操作。**由于数据通路的结构关系，微操作可分为**相容性**和**相斥性**两种。所谓**相容性****的微操作**，是指在同时或同一个时钟周期内可以并行执行的微操作。所谓**相斥性****的微操作**，是指不能在同时或不能在同一个时钟周期内并行执行的微操作。

**2.微指令和微程序**

在机器的一个机器周期中，一组实现一定操作功能的微命令的组合，构成一条**微指令**。

一条机器指令的功能是用许多条微指令组成的序列来实现的，这个微指令序列通常叫做**微程序**。当执行当前一条微指令时，必须指出下一条微指令的地址，以便当前一条微指令执行完毕后，取出下一条微指令。

**3.微程序控制器原理框图**

微程序控制器原理框图如图5.3所示。它主要由**控制存储器**、**微指令寄存器**和**地址转移逻辑**三大部分组成，其中微指令寄存器分为**微地址寄存器**和**微命令寄存器**两部分。

![img](https://p.ananas.chaoxing.com/star3/origin/b387cb59285b3f804026db28ead2fca9.png)

图5-3 微程序控制器的组成原理框图

**4.微程序举例** 

**5.CPU周期和微指令周期的关系** 

读出微指令的时间加上执行该条微指令的时间就是微指令周期。

一般来讲，一个微指令周期时间设计的恰好和CPU周期时间相等。

**6.机器指令与微指令的关系**

一条机器指令对应一段微程序，一个微程序是由微指令序列组成的。

在微程序控制器中，**通过读取微程序与执行它所包含的微指令，去解释执行机器指令。**

（1）在微程序中有一条或两三条微指令，其微命令实现取指操作，可称为“取机器指令用的微指令”，属于微程序中的公用部分。

（2）根据机器指令中的操作码，通过微地址转移逻辑电路，找到与该机器指令所对应的微程序入口地址。

（3）逐条取出对应的微程序，每一条提供一个微命令序列，控制有关的操作。

（4）执行完对应于一条机器指令的一段微程序后，返回到“取机器指令用的微指令”，开始又一个机器指令周期。

**5.4.2 微程序设计技术**

以上两例说明了微指令的结构及微程序设计方法。在设计微指令结构时，应遵循以下原则：（1）有利于缩短微指令字长度；（2）有利于减少控制存储器的容量；（3）有利于提高微程序的执行速度；（4）有利于对微指令的修改；（5）有利于提高微程序设计的灵活性。

**1. 微命令编码方式**

前面我们已讲述微指令由控制字段和顺序控制字段组成。**微命令编码**就是对微指令中的操作控制字段采用的表示方式，常见的有直接表示法，编码表示法（字段译码法）和混合表示法三种方法。

**2. 微地址的形成方法**

要使微程序连续地执行下去，这就涉及到后继微地址的形成问题。微指令执行的顺序控制问题，就是如何确定下一条微指令的地址问题。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278785&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 6.5 5.5 硬布线控制器

**1.基本思想**

  硬布线控制器是早期设计计算机的一种方法。这种方法是把控制部件看作为产生专门固定时序控制信号的逻辑电路，而此逻辑电路以使用最少元件和取得最高操作速度为设计目标。一旦控制部件构成后，除非重新设计和物理上对它重新布线，否则要想增加新的控制功能是不可能的。这种逻辑电路是一种由门电路和触发器构成的复杂树形逻辑网络，故称之为硬布线控制器。

  硬布线控制器的一般结构如图：

![img](https://p.ananas.chaoxing.com/star3/origin/a2a41c15905de1744e32909e8d305458.png)

  图5. 31示出了硬连线控制器的结构方框图。逻辑网络的输入信号来源有三个：①来自指令译码器的输出Im；②来自执行部件的反馈信息Bj；③来自时序产生器的时序信号，包括节拍电位信号M和节拍脉冲信号T。其中节拍电位信号就是5.3节规定的机器周期(CPU周期)信号，节拍脉冲信号是时钟周期信号。

 逻辑网络N的输出信号就是微操作控制信号，它用来对执行部件进行控制。另有一些信号则根据条件变量来改变时序发生器的计数顺序，以便跳过某些状态，从而可以缩短指令周期。显然，硬连线控制器的基本原理，归纳起来可叙述为：某一微操作控制信号C是指令操作码译码器输出Im、时序信号（节拍电位Mi，节拍脉冲Tk）和状态条件信号Bj的逻辑函数，即

​                             C=f（Im，Mi，Tk，Bj）

  所以每一控制信号Cn可以由以下形式的布尔代数表达式来确定：

![img](https://mooc1.chaoxing.com/ananas/latex/p/2242199)

   与微程序控制相比，硬连线控制的速度较快。其原因是微程序控制中每条微指令都要从控存中读取一次，影响了速度，而硬连线控制主要取决于电路延迟。因此在某些超高速新型计算机结构中，又选用了硬连线控器，或与微程序控制器混合使用。

**2.指令执行流程**

  在用硬联线实现的操作控制器中，通常，时序产生器除了产生节拍脉冲信号外，还应当产生节拍电位信号。因为在一个指令周期中要顺序执行一系列微操作，需要设置若干节拍电位来定时。例如前面提到的五条指令的指令周期，其指令流程可用下图来表示。

![img](https://p.ananas.chaoxing.com/star3/origin/034a84af624bc98a59f0b2ff471226f5.png)

   由于采用同步工作方式，长指令和短指令对节拍时间的利用都是一样的。这对短指令来讲，在时间的利用上是浪费的，因而也降低了CPU的指令执行速度，影响到机器的速度指标。为了改变这种情况，在设计短指令流程时可以跳过某些节拍。当然在这种情况下，节拍信号发生器的电路相应就要复杂一些。节拍电位信号的产生电路与节拍脉冲产生电路十分类似，它可以在节拍脉冲信号时序器的基础上产生，运行中以循环方式工作，并与节拍脉冲保持同步。

**3.微操作控制信号的产生**

   在微程序控制器中，微操作控制信号由微指令产生，并且可以重复使用。在硬联线控制器中，某一微操作控制信号由布尔代数表达式描述的输出函数产生。

  设计微操作控制信号的方法和过程是: 

  根据所有机器指令流程图，寻找出产生同一个微操作信号的所有条件，并与适当的节拍电位和节拍脉冲组合，从而写出其布尔代数表达式并进行简化，然后用门电路或可编程器件来实现。为了防止遗漏，设计时可按信号出现在指令流程图中的先后次序书写，然后进行归纳和简化。要特别注意控制信号是电位有效还是脉冲有效，如果是脉冲有效，必须加入节拍脉冲信号进行相“与”。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278798&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 6.6 5.6 流水CPU

**1.并行处理技术**

并行性的三种形式：

①时间并行：即使用流水处理部件，时间重叠。

②空间并行：设置重复资源，同时工作。

③时间并行＋空间并行：时间重叠和资源重复的综合应用

**2.流水CPU的结构**

（1）流水计算机的系统组成

（2）流水CPU的时空图

（3）流水线分类

**3.流水线中的主要问题**

（1）资源相关

（2）数据相关

（3）控制相关

**4.奔腾CPU介绍**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278800&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 6.7 5.7 RISC CPU 

**1.RISC机器的特点**

  第一台RISC(精简指令系统计算机)于1981年在美国加州大学伯克利分校问世。它是在继承了CISC(复杂指令系统计算机)的成功技术，并在克服了CISC机器缺点的基础上发展起来的。尽管众多厂家生产的RISC处理器实现手段有所不同，但是RISC概括的三个基本要素是普遍认同的。这三个要素是：①一个有限的简单的指令集；②CPU配备大量的通用寄存器；③强调对指令流水线的优化。

  RISC的目标绝不是简单的缩减指令系统，而是使处理器的结构更简单，更合理，具有更高的性能和执行效率，并降低处理器的开发成本。基于三要素的RISC机器的特征是：

   (1)指令长度固定；指令格式种类少；寻址方式种类少；

   (2)只有取数／存数指令访问存储器，其余指令的操作都在寄存器之间进行。

   (3) CPU中通用寄存器的数量相当多；

   (4) RISC一定采用指令流水线技术，并强调指令流水的优化使用，大部分指令在一个时钟周期内完成。

   (5) 以硬布线控制为主，不用或少用微程序控制。

   (6) 特别重视编译优化工作，生成高效的目标代码，以减少程序执行时间，软件系统开发时间比复杂指令系统计算机长。

 **2.RISC CPU举例**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278802&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



## 第六章 总线

### 7.1 6.1 总线基本概念、分类及特性

 **总线**(Bus)是构成计算机系统的互连机构，是多个系统功能部件之间进行数据传送的公共通路。

 **1.总线的定义**

一组能为多个部件**分时**、**共享**的公共信息传送线路。

**分****时：**是指同一个时刻只允许有一个部件向总线发送信息，接在总线的各个功能模块不能同时向总线上传送数据，只能分时错开占用总线传送；

**共享：**是指总线上可以挂接多个功能模块，都可以借助总线在各部分之间传输信息，而且总线上的数据可以被多个功能模块同时接收。

 **2.  总线的分类**

计算机系统中总线可以分为以下三类：
　　 (1)**内部总线**：CPU内部连接各寄存器及运算部件之间的总线。
　   (2)**系统总线**：CPU同计算机系统的其他高速功能部件，如存储器、通道等互相连接的总线。
　   (3)**I/O总线**：中、低速I/O设备之间互相连接的总线。

**3.总线的特性**
  **物理特性：**指总线的物理连接方式，包括总线的根数，总线的插头、插座的形状，引脚线的排列方式等。
  **功能特性：**描述总线中每一根线的功能。如：
    地址总线(AB)—其宽度可表明地址空间范围
    数据总线(DB)---其宽度可表明一次读写的二进制位数
    控制总线(CB)--- 包括各种控制命令(如存储器读写、I/O读写)、请求信号与仲裁信号、中断请求与应答等。
   **电气特性：**定义每一根线上信号的传递方向及有效电平范围。送入CPU的信号叫输入信号(IN)，从CPU发出的信号叫输出信号(OUT)。
   **时间特性:**定义了每根线在什么时间有效。规定了总线上各信号有效的时序关系，CPU才能正确无误地使用。

**4.总线的标准化**

   相同的指令系统，相同的功能，不同厂家生产的各功能部件在实现方法上几乎没有相同的，为了使各厂家生产的相同功能部件可以互换使用，就需要系统总线的标准化。
总线标准化的目的：各不同生产商生产的功能部件，可以相互兼容。
常用的标准总线：ISA 、 EISA  、VESA 、PCI
ISA (Industry Standard Architecture) 工业标准结构  系统总线标准
EISA (Extended Industry Standard Architecture) 扩展工业标准结构 系统总线标准
VESA(Video Electronics Standard Association)视频电子标准协会总线  局部总线
AGP (Accelerated Graphics Port) 视频接口标准  局部总线
PCI(Periphery Connect Interface)外部设备连接接口  高速外围总线  局部总线
PCI-Express 最新的总线和接口标准 
RS-232总线  串行通信总线标准  设备总线

USB总线  通用串行总线   设备总线

**5.总线设备**

总线上所连接的设备，按其对总线有无控制功能可分为主设备和从设备两种：
**主设备：**获得总线控制权的设备。
**从设备：**被主设备访问的设备，只能响应从设备发来的各种总线命令。

**6.总线的猝发式传输**

在一个总线周期内传输存储地址连续的多个数据字的总线数据传输方式叫猝发式传输，也叫突发传输。

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278756&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 7.11 6.11 系统总线结构

**1.单总线结构**

  使用一条单一的系统总线来连接CPU、主存和I/O设备，叫做单总线结构。如图1所示。
　　此时要求连接到总线上的逻辑部件必须高速运行，以便在某些设备需要使用总线时能迅速获得总线控制权；而当不再使用总线时，能迅速放弃总线控制权。
　　(1)**取指令**：当CPU取一条指令时，首先把程序计数器PC中的地址同控制信息一起送至总线上。在“取指令”情况下的地址是主存地址,此时该地址所指定的主存单元的内容一定是一条指令，而且将被传送给CPU。
　　(2**)传送数据**：取出指令之后，CPU将检查操作码。操作码规定了对数据要执行什么操作，以及数据是流进CPU还是流出CPU。
　　(3**)I/O操作：**如果该指令地址字段对应的是外围设备地址，则外围设备译码器予以响应，从而在CPU和与该地址相对应的外围设备之间发生数据传送，而数据传送的方向由指令操作码决定。

​    (4)**DMA操作**: 某些外围设备也可以指定地址。 如果一个由外围设备指定的地址对应于一个主存单元，则主存予以响应，于是在主存和外设间将进行直接存储器传送(DMA)。
　　(5)单总线结构容易扩展成多CPU系统：这只要在系统总线上挂接多个CPU即可。

![单总线结构.png](https://p.ananas.chaoxing.com/star3/origin/99bf98d870683c9d9ce982cd3408476e.png)

**2.双总线结构**

　　这种结构保持了单总线系统简单、易于扩充的优点，但又在CPU和主存之间专门设置了一组高速的存储总线，使CPU可通过专用总线与存储器交换信息，并减轻了系统总线的负担，同时主存仍可通过系统总线与外设之间实现DMA操作，而不必经过CPU。当然这种双总线系统以增加硬件为代价。如图2所示

![系统双总线结构.png](https://p.ananas.chaoxing.com/star3/origin/7edbb56fe354137112aae7b79adaef5b.png)



**3.三总线结构**
　　它是在双总线系统的基础上增加I/O总线形成的。如图3所示。 
　　在DMA方式中，外设与存储器间直接交换数据而不经过CPU，从而减轻了CPU对数据输入输出的控制，而“通道”方式进一步提高了CPU的效率。通道实际上是一台具有特殊功能的处理器，又称为IOP(I/O处理器),它分担了一部分CPU的功能，以实现对外设的统一管理及外设与主存之间的数据传送。显然，由于增加了IOP，使整个系统的效率大大提高。然而这是以增加更多的硬件代价换来的。

![系统三总线结构示意图.png](https://p.ananas.chaoxing.com/star3/origin/65256e9392dfc29ffbd04dbd88843393.png)

**3.多总线结构**

进一步增加快速设备总线和中慢速设备总线如图4所示。

![系统多总线结构.png](https://p.ananas.chaoxing.com/star3/origin/f4c007305cb91e67297f034cd49455e7.png)

**4.多总线结构实例**

最典型的如奔腾计算机主板总线如图5所示。

![奔腾总线结构图.png](https://p.ananas.chaoxing.com/star3/origin/35450e9aaa0f95d28b012f9d3de1d64f.png)

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278846&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



#### 7.12  6.1.2 总线性能指标

**1.总线的传输周期**
  是指一次总线操作所需的时间（包括申请阶段、寻址阶段、传输阶段和结束阶段），简称为总线周期，总线传输周期通常由若干个总线时钟周期构成。总线时钟周期即机器的时钟周期。

**2.总线宽度**
 又称为总线位宽，它是总线上同时能够传输的数据位数，通常是指数据总线的根数，如32根成为32位（bit）总线。

**3.总线的工作频率**
 总线上各种操作的频率，为总线周期的倒数。若总线周期=n×时钟周期，则总线的工作频率=时钟频率/n

**4.总线的带宽**
  即单位时间内总线上可传输的数据的位数，通常用每秒钟传送信息的字节数来衡量，是衡量总线性能的重要指标。单位可用字节/秒(B/S)或兆字节每秒(MB/s)表示。
      总线带宽=总线工作频率×（总线宽度/8）

   【例1】某总线在一个总线周期中并行传送4个字节的数据，假设一个总线周期等于一个总线时钟周期，总线时钟频率为33MHz，则总线带宽是多少? (2)如果一个总线周期中并行传送64位数据，总线时钟频率升为66MHz，则总线带宽是多少?
[解]
(1)设总线带宽用Dr表示，总线时钟周期用T=1/f表示，一个总线周期传送的数据量用D表示，根据定义可得
  Dr = D/T = D×1/T = D×f =4B×33×1000000/s=132MB/s
(2)64位=8B， Dr= D×f =8B×66×1000000/s=528MB/s



### 7.2 6.2 总线接口的基本概念

**1.信息传送方式；2.总线接口的基本概念**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278764&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 7.3 6.3 总线的仲裁

**1.集中式仲裁；2.分布式仲裁**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278771&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### 7.4 6.4 总线的定时和数据传送模式

**1.总线的定时；2.数据的传送模式**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278782&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5



### **7.5 6.5 总线结构实例**

https://mooc1.chaoxing.com/mycourse/studentstudy?chapterId=605278786&courseId=227065309&clazzid=80062403&cpi=298479014&enc=2509345810dcd413efaf3ed3b4025d20&mooc2=1&openc=7a231997da032f4e957295dc010a6ac5
